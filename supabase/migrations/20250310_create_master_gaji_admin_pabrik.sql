-- Create table master_gaji_admin_pabrik
CREATE TABLE IF NOT EXISTS public.master_gaji_admin_pabrik (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    bulan TEXT,
    divisi TEXT,
    jabatan TEXT,
    gaji_pokok NUMERIC DEFAULT 0,          -- Gaji
    uang_makan NUMERIC DEFAULT 0,          -- Uang Makan
    uang_kehadiran NUMERIC DEFAULT 0,      -- Uang Kehadiran
    lembur_per_jam NUMERIC DEFAULT 0,      -- Lembur (Rate)
    insentif NUMERIC DEFAULT 0,            -- Insentif
    tunjangan_jabatan NUMERIC DEFAULT 0,   -- Uang Jabatan
    tunjangan_transportasi NUMERIC DEFAULT 0, -- Uang Transportasi
    lembur_tanggal_merah NUMERIC DEFAULT 0, -- Lembur Tanggal Merah
    created_at TIMESTAMPTZ DEFAULT NOW(),
    updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- Enable Row Level Security
ALTER TABLE public.master_gaji_admin_pabrik ENABLE ROW LEVEL SECURITY;

-- Create Policy (Allow all access for now, adjust as needed)
DROP POLICY IF EXISTS "Public Access Master Gaji Admin Pabrik" ON public.master_gaji_admin_pabrik;
CREATE POLICY "Public Access Master Gaji Admin Pabrik" ON public.master_gaji_admin_pabrik FOR ALL USING (true) WITH CHECK (true);

-- Grant permissions
GRANT ALL ON public.master_gaji_admin_pabrik TO anon, authenticated, service_role;
